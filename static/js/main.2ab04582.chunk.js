(this["webpackJsonpreact-samurai"]=this["webpackJsonpreact-samurai"]||[]).push([[0],{118:function(e,t,n){e.exports={PostsBlock:"MyPosts_PostsBlock__oOV-F",container:"MyPosts_container__3wha9",posts:"MyPosts_posts__3tZ1c"}},142:function(e,t,n){e.exports={container:"Loader_container__3LFDG",loader:"Loader_loader__1j2Bs",animloader:"Loader_animloader__2sfsV"}},164:function(e,t,n){e.exports=n.p+"static/media/userPhoto.4799a585.png"},185:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var a=n(53),r=n(8),c={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrew"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Viktor"},{id:6,name:"Valera"}],messages:[{id:1,message:"Hi"},{id:2,message:"How is your it-kamasutra?"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIALOGS/ADD_MESSAGE":var n={id:6,message:t.text};return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[n])});default:return Object(r.a)({},e)}},u={addMessageActionCreator:function(e){return{type:"DIALOGS/ADD_MESSAGE",text:e}}}},193:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return S}));var a=n(12),r=n.n(a),c=n(28),o=n(53),u=n(8),i=[],l=null,s=function(){console.log("closed"),setTimeout(f,3e3)},m=function(e){var t=JSON.parse(e.data);i.forEach((function(e){return e(t)}))},f=function(){var e,t;null===(e=l)||void 0===e||e.removeEventListener("close",s),null===(t=l)||void 0===t||t.close(),(l=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx")).addEventListener("close",s),l.addEventListener("message",m)},d=function(){f()},p=function(e){return i.push(e),function(){i=i.filter((function(t){return t!==e}))}},E=function(e){i=i.filter((function(t){return t!==e}))},b=function(e){var t;null===(t=l)||void 0===t||t.send(e)},g={messages:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/chat/MESSAGES_RECEIVED":return Object(u.a)(Object(u.a)({},e),{},{messages:[].concat(Object(o.a)(e.messages),Object(o.a)(t.payload.messages))});default:return Object(u.a)({},e)}},v=function(e){return{type:"SN/chat/MESSAGES_RECEIVED",payload:{messages:e}}},O=null,j=function(e){return null===O&&(O=function(t){e(v(t))}),O},w=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(),p(j(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(j(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},196:function(e,t,n){e.exports={profileDescription:"ProfileInfo_profileDescription__1ViSc"}},199:function(e,t,n){e.exports={socialItemBLock:"ProfileMediaNetwork_socialItemBLock__1yehf"}},201:function(e,t,n){e.exports={item:"Post_item__ihtu9"}},245:function(e,t,n){e.exports=n(392)},250:function(e,t,n){},251:function(e,t,n){},26:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return f}));var a=n(152),r=n(0),c=n.n(r),o=n(69),u=n.n(o),i=n(137),l=function(e){var t=e.meta,n=e.children,a=t.touched&&t.error;return c.a.createElement("div",{className:u.a.formControl+" "+(a?u.a.error:"")},c.a.createElement("div",null,n),c.a.createElement("div",null,a&&c.a.createElement("span",null,t.error)))},s=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return c.a.createElement(l,e,c.a.createElement("textarea",Object.assign({},t,n)))},m=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return c.a.createElement(l,e,c.a.createElement("input",Object.assign({},t,n)))};function f(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return c.a.createElement("div",null,c.a.createElement(i.a,Object.assign({placeholder:e,name:t,validate:n,component:a},r)),o)}},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(198),r=n.n(a).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"df87667d-e5e9-45ec-b9da-f359f4dbae31"}})},392:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a,r,c=n(22),o=n.n(c),u=n(0),i=n.n(u),l=(n(250),n(194)),s=n(195),m=n(215),f=n(213),d=(n(251),n(252),n(87)),p=n(196),E=n.n(p),b=n(14),g=n(107),h=n(12),v=n.n(h),O=n(28),j=n(53),w=n(8),y=n(88),S=n(48),_=n(30),k=function(e){return _.a.get("profile/".concat(e)).then((function(e){return e.data}))},P=function(e){return _.a.get("profile/status/".concat(e)).then((function(e){return e.data}))},C=function(e){return _.a.put("profile/status",{status:e})},I=function(e){var t=new FormData;return t.append("image",e),_.a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},T=function(e){return _.a.put("profile",e)},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _.a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e.data}))},x=function(){return _.a.delete("auth/login")},L={posts:[{id:1,message:"Hi my name is Jack",likesCount:999},{id:2,message:"lorem ipsum",likesCount:123},{id:3,message:"It's my first post",likesCount:1}],profile:null,status:""},U={addPostActionCreator:function(e){return{type:"profile/ADD_POST",postText:e}},setUserStatus:function(e){return{type:"profile/SET_STATUS",status:e}},setUserProfile:function(e){return{type:"profile/SET_USER_PROFILE",userProfile:e}},savePhotoSuccess:function(e){return{type:"profile/SET_USER_PHOTO",photo:e}}},F=function(e){return function(){var t=Object(O.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(y.d.toggleLoading(!0)),!e){t.next=7;break}return t.next=4,k(e);case 4:a=t.sent,n(U.setUserProfile(a)),n(y.d.toggleLoading(!1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=n(59),D=function(){var e=Object(b.d)(N.g),t=Object(b.c)(),n=Object(u.useState)(!1),a=Object(d.a)(n,2),r=a[0],c=a[1],o=Object(u.useState)(e),l=Object(d.a)(o,2),s=l[0],m=l[1];return Object(u.useEffect)((function(){m(e)}),[e]),i.a.createElement("div",null,!r&&i.a.createElement("div",null,i.a.createElement("b",null," \u0421\u0442\u0430\u0442\u0443\u0441:")," ",i.a.createElement("span",{onDoubleClick:function(){c(!0)}},e||"\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430")),r&&i.a.createElement("div",null,i.a.createElement("input",{onChange:function(e){m(e.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),t(function(e){return function(){var t=Object(O.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(e);case 3:0===t.sent.data.resultCode&&n(U.setUserStatus(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(s))},value:s})))},R=n(164),M=n.n(R),G=n(199),z=n.n(G),B=function(e){var t=e.socialTitle,n=e.socialLink;return i.a.createElement("div",{className:z.a.socialItemBLock},i.a.createElement("b",null,"".concat({vk:"\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435",facebook:"\u0424\u0435\u0439\u0441\u0431\u0443\u043a",github:"\u0413\u0438\u0442\u0445\u0430\u0431",twitter:"\u0422\u0432\u0438\u0442\u0442\u0435\u0440",website:"\u0412\u0435\u0431\u0441\u0430\u0439\u0442",instagram:"\u0418\u043d\u0441\u0442\u0430\u0433\u0440\u0430\u043c\u043c",youtube:"\u042e\u0442\u0443\u0431",mainLink:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430"}[t]," : ")),n||"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0442\u0438")},H=function(e){var t=e.profile,n=t.fullName,a=t.aboutMe,r=t.lookingForAJob,c=t.lookingForAJobDescription;return i.a.createElement("div",null,e.isOwner&&i.a.createElement("button",{onClick:function(){return e.setEditMode(!0)}},"Edit profile"),i.a.createElement("div",null,i.a.createElement("b",null,"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f:")," ",n||"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043b \u0438\u043c\u044f"),i.a.createElement("div",null,i.a.createElement("b",null,"\u041e \u0441\u0435\u0431\u0435:")," ",a||"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043b \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0441\u0435\u0431\u0435"),i.a.createElement("div",null,i.a.createElement("b",null,"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:")," ",r||"\u043d\u0435\u0442"),i.a.createElement("div",null,i.a.createElement("b",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0436\u0435\u043b\u0430\u0435\u043c\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b:")," ",c||"\u043d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0436\u0435\u043b\u0430\u0435\u043c\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"),i.a.createElement("div",null,i.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b :"),i.a.createElement("div",null,Object.keys(e.profile.contacts).map((function(t){return i.a.createElement(B,{key:t,socialTitle:t,socialLink:e.profile.contacts[t]})})))))},J=n(191),V=n(26),W=n(69),q=n.n(W),Y=Object(J.a)({form:"mainInfoForm"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement("b",null,"Full name"),": ",Object(V.c)("Full name","fullName",[],V.a)),i.a.createElement("div",null,i.a.createElement("b",null,"Looking for a job"),": ",Object(V.c)("","lookingForAJob",[],V.a,{type:"checkbox"})),i.a.createElement("div",null,i.a.createElement("b",null,"My professional skills"),":",Object(V.c)("My professional skills","lookingForAJobDescription",[],V.b)),i.a.createElement("div",null,i.a.createElement("b",null,"About me"),":",Object(V.c)("About me","aboutMe",[],V.b)),i.a.createElement("div",null,i.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b :"),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts"),": ",Object.keys(e.profile.contacts).map((function(e){return i.a.createElement("div",{key:e},i.a.createElement("b",null,e,": ",Object(V.c)(e,"contacts."+e,[],V.a)))})))),e.error&&i.a.createElement("div",{className:q.a.formSummaryError},e.error),i.a.createElement("button",null,"Save"))})),K=function(e){var t=Object(u.useState)(!1),n=Object(d.a)(t,2),a=n[0],r=n[1],c=Object(b.c)(),o=Object(b.d)(N.f);if(!o)return i.a.createElement("div",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u043b \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0441\u0435\u0431\u0435");return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:E.a.profileDescription},i.a.createElement("img",{width:200,src:o.photos.large||M.a,alt:"profilePhoto"}),e.isOwner&&i.a.createElement("input",{type:"file",onChange:function(e){var t,n,a=e.target;(null===(t=a.files)||void 0===t?void 0:t.length)&&c((n=a.files[0],function(){var e=Object(O.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(n);case 2:0===(a=e.sent).data.resultCode&&t(U.savePhotoSuccess(a.data.data.photos));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}),i.a.createElement(D,null),a?i.a.createElement(Y,{initialValues:o,onSubmit:function(e){var t;c((t=e,function(){var e=Object(O.a)(v.a.mark((function e(n,a){var r,c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().auth.userId,e.next=3,T(t);case 3:if(0!==(c=e.sent).data.resultCode){e.next=8;break}n(F(r)),e.next=11;break;case 8:return o=c.data.messages[0].match(/Contacts->(\w+)/)[1].toLowerCase(),n(Object(S.b)("mainInfoForm",{contacts:Object(g.a)({},o,c.data.messages[0])})),e.abrupt("return",Promise.reject(c.data.messages[0]));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(){return r(!1)}))},profile:o}):i.a.createElement(H,{setEditMode:r,isOwner:e.isOwner,profile:o})))},Z=n(118),X=n.n(Z),$=n(201),Q=n.n($),ee=function(e){return i.a.createElement("div",{className:Q.a.item},i.a.createElement("img",{src:"https://movies4maniacs.liberty.me/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg",alt:"profile_img"}),i.a.createElement("span",null,e.message),i.a.createElement("div",null,i.a.createElement("span",null,e.likesCount," like")))},te=n(62),ne=i.a.memo((function(e){var t=Object(u.createRef)();return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:X.a.PostsBlock},i.a.createElement("h3",null,"My posts"),i.a.createElement("div",null,i.a.createElement(ce,{onSubmit:function(t){e.addPostActionCreator(t.postText)}}))),i.a.createElement("div",{className:X.a.container,ref:t},i.a.createElement("div",{className:X.a.posts},e.posts.map((function(e){return i.a.createElement(ee,{key:e.id.toString(),id:e.id,message:e.message,likesCount:e.likesCount})})))))})),ae=Object(te.a)(30),re=Object(te.b)(5),ce=Object(J.a)({form:"postForm",onSubmitSuccess:function(e,t){return t(Object(S.a)("postForm"))}})((function(e){var t=e.handleSubmit;return i.a.createElement("form",{onSubmit:t},Object(V.c)("your post message","postText",[te.c,re,ae],V.b),i.a.createElement("button",null,"Add post"))})),oe=ne,ue=Object(b.b)((function(e){return{posts:e.profilePage.posts}}),{addPostActionCreator:U.addPostActionCreator})(oe),ie=n(68),le=function(e){var t=Object(b.d)(N.d);return i.a.createElement("div",null,t?i.a.createElement(ie.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(K,{isOwner:e.isOwner}),i.a.createElement(ue,null)))},se=n(17),me=n(16),fe=Object(me.d)(se.h)((function(e){var t=Object(b.c)(),n=Object(b.d)(N.i),a=function(){var a=+e.match.params.userId;a||(a=n)||e.history.push("/login"),a?(t(F(a)),t(function(e){return function(){var t=Object(O.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e);case 2:a=t.sent,n(U.setUserStatus(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))):console.log("User id should exists")};return Object(u.useEffect)((function(){a()}),[e.match.params.userId]),i.a.createElement(le,{isOwner:!e.match.params.userId})})),de=n(40),pe=function(){return i.a.createElement("div",null,"Settings")},Ee=function(){return i.a.createElement("div",null,"News")},be=function(){return i.a.createElement("div",null,"Music")},ge=n(137),he=n(82);!function(e){e[e.Success=0]="Success"}(a||(a={})),function(e){e[e.CaptchIsRequired=10]="CaptchIsRequired"}(r||(r={}));var ve=function(){return _.a.get("security/get-captcha-url").then((function(e){return e.data}))},Oe={userId:null,email:null,login:null,isFetching:!1,isAuth:!1,captchaUrl:null},je=function(e,t,n,a){return{type:"auth/SET_USER_DATA",payload:{userId:e,login:t,email:n,isAuth:a}}},we=function(e){return{type:"auth/SET_CAPTCHA",payload:{captchaUrl:e}}},ye=function(){return function(e){return he.a.getUserData().then((function(t){if(t.resultCode===a.Success){var n=t.data,r=n.id,c=n.login,o=n.email;e(je(r,c,o,!0))}}))}},Se=function(){return function(){var e=Object(O.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve();case 2:n=e.sent,a=n.url,t(we(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_e=Object(J.a)({form:"login"})((function(e){var t=e.handleSubmit;return i.a.createElement("form",{onSubmit:t},i.a.createElement("div",null,i.a.createElement(ge.a,{type:"text",component:V.a,name:"email",placeholder:"email",validate:[te.c]})),i.a.createElement("div",null,i.a.createElement(ge.a,{type:"text",component:V.a,name:"password",placeholder:"password",validate:[te.c]})),i.a.createElement("div",null,i.a.createElement(ge.a,{type:"checkbox",name:"rememberMe",component:V.a}),"Remember me"),e.error&&i.a.createElement("div",{className:q.a.formSummaryError},e.error),e.captchaUrl&&i.a.createElement("img",{src:e.captchaUrl,alt:"captcha"}),e.captchaUrl&&i.a.createElement("div",null,i.a.createElement(ge.a,{type:"text",component:V.a,name:"captcha",placeholder:"Enter text from picture",validate:[te.c]})),i.a.createElement("div",null,i.a.createElement("button",{type:"submit"},"Send")))})),ke=function(){var e=Object(b.d)((function(e){return e.auth.isAuth})),t=Object(b.d)((function(e){return e.auth.captchaUrl})),n=Object(b.c)();return e?i.a.createElement(se.a,{to:"/profile"}):i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",null,"Login"),i.a.createElement(_e,{captchaUrl:t,onSubmit:function(e){var t=e.email,c=e.password,o=e.rememberMe,u=e.captcha;n(function(e,t,n,c){return function(){var o=Object(O.a)(v.a.mark((function o(u){return v.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:A(e,t,n,c).then((function(e){if(e.resultCode===a.Success)u(ye());else{e.resultCode===r.CaptchIsRequired&&u(Se());var t=e.messages?e.messages[0]:"Some error";u(Object(S.b)("login",{_error:t}))}}));case 1:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}(t,c,o,u))}}))},Pe={isInitialiazed:!1},Ce=function(){return{type:"SET_INITIALIAZE"}},Ie=n(185),Te={friends:[{id:1,name:"Sasha",url:"https://www.freepngimg.com/thumb/shape/30004-8-circle-image.png"},{id:2,name:"Jenia",url:"https://www.freepngimg.com/thumb/shape/30004-8-circle-image.png"},{id:3,name:"Ania",url:"https://www.freepngimg.com/thumb/shape/30004-8-circle-image.png"}]},Ae=n(192),xe=n(202),Le=n(193),Ue=Object(me.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/ADD_POST":var n={id:e.posts.length+1,message:t.postText,likesCount:0};return Object(w.a)(Object(w.a)({},e),{},{posts:[].concat(Object(j.a)(e.posts),[n])});case"profile/SET_STATUS":return Object(w.a)(Object(w.a)({},e),{},{status:t.status});case"profile/SET_USER_PROFILE":return Object(w.a)(Object(w.a)({},e),{},{profile:t.userProfile});case"profile/SET_USER_PHOTO":return Object(w.a)(Object(w.a)({},e),{},{profile:Object(w.a)(Object(w.a)({},e.profile),{},{photos:t.photo})});default:return Object(w.a)({},e)}},dialogsPage:Ie.b,usersPage:y.e,sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;return t.type,Object(w.a)({},e)},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_CAPTCHA":case"auth/SET_USER_DATA":return Object(w.a)(Object(w.a)({},e),t.payload);default:return Object(w.a)({},e)}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIAZE":return Object(w.a)(Object(w.a)({},e),{},{isInitialiazed:!0});default:return Object(w.a)({},e)}},chat:Le.a,form:Ae.a}),Fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||me.d,Ne=Object(me.e)(Ue,Fe(Object(me.a)(xe.a)));function De(e){return function(t){return i.a.createElement(i.a.Suspense,{fallback:i.a.createElement(ie.a,null)},i.a.createElement(e,t))}}var Re=n(397),Me=n(394),Ge=n(395),ze=n(400),Be=n(401),He=n(402),Je=n(398),Ve=n(399),We=n(396),qe=function(e){return e.auth.isAuth},Ye=function(e){return e.auth.login},Ke=function(){var e=Object(b.d)(qe),t=Object(b.d)(Ye),n=Object(b.c)(),r=Me.a.Header;return i.a.createElement(r,{className:"header"},i.a.createElement("div",{className:"logo"}),i.a.createElement(Je.a,null,i.a.createElement(Ve.a,{span:18},i.a.createElement(Re.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"]},i.a.createElement(Re.a.Item,{key:"5"},i.a.createElement(de.b,{to:"/users"},"Developers")))),e?i.a.createElement(i.a.Fragment,null,i.a.createElement(Ve.a,{push:3,span:1},i.a.createElement(We.a,{alt:t||"",style:{backgroundColor:"#87d068"},icon:i.a.createElement(ze.a,null)})),i.a.createElement(Ve.a,{push:3,span:5},i.a.createElement(Ge.a,{onClick:function(){n(function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x().then((function(e){e.data.resultCode===a.Success&&t(je(null,null,null,!1))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"Logout"))):i.a.createElement(Ve.a,{push:5,span:6},i.a.createElement(Ge.a,null,i.a.createElement(de.b,{to:"/login"},"Login")))))},Ze=Re.a.SubMenu,Xe=Me.a.Content,$e=Me.a.Footer,Qe=Me.a.Sider,et=i.a.lazy((function(){return n.e(5).then(n.bind(null,419))})),tt=i.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,420))})),nt=i.a.lazy((function(){return n.e(6).then(n.bind(null,418))})),at=De(et),rt=De(nt),ct=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleAllUncaughtErrors=function(e){console.log("error",e)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.initialiazeApp(),window.addEventListener("unhandledrejection",this.handleAllUncaughtErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.handleAllUncaughtErrors)}},{key:"render",value:function(){return this.props.initialiazed?i.a.createElement(Me.a,null,i.a.createElement(i.a.Suspense,{fallback:i.a.createElement(ie.a,null)},i.a.createElement(Ke,null),i.a.createElement(Xe,{style:{padding:"0 50px"}},i.a.createElement(Me.a,{className:"site-layout-background",style:{padding:"24px 0"}},i.a.createElement(Qe,{className:"site-layout-background",width:200},i.a.createElement(Re.a,{mode:"inline",defaultSelectedKeys:["1"],style:{height:"100%"}},i.a.createElement(Ze,{key:"sub1",icon:i.a.createElement(ze.a,null),title:"Profile"},i.a.createElement(Re.a.Item,{key:"1"},i.a.createElement(de.b,{to:"/profile"},"My profile")),i.a.createElement(Re.a.Item,{key:"2"},i.a.createElement(de.b,{to:"/dialogs"},"Dialogs"))),i.a.createElement(Ze,{key:"sub2",icon:i.a.createElement(Be.a,null),title:"Developers"},i.a.createElement(Re.a.Item,{key:"5"},i.a.createElement(de.b,{to:"/users"},"All developers"))),i.a.createElement(Ze,{key:"sub3",icon:i.a.createElement(He.a,null),title:"Chat"},i.a.createElement(Re.a.Item,{key:"6"},i.a.createElement(de.b,{to:"/chat"},"Chat"))))),i.a.createElement(Xe,{style:{padding:"0 24px",minHeight:280}},i.a.createElement(se.d,null,i.a.createElement(se.b,{path:"/profile/:userId?",render:function(){return i.a.createElement(fe,null)}}),i.a.createElement(se.a,{exact:!0,from:"/",to:"/profile"}),i.a.createElement(se.b,{path:"/login",render:function(){return i.a.createElement(ke,null)}}),i.a.createElement(se.b,{path:"/dialogs",render:function(){return i.a.createElement(at,null)}}),i.a.createElement(se.b,{path:"/users",render:function(){return i.a.createElement(tt,null)}}),i.a.createElement(se.b,{path:"/settings",component:pe}),i.a.createElement(se.b,{path:"/news",component:Ee}),i.a.createElement(se.b,{path:"/music",component:be}),i.a.createElement(se.b,{path:"/chat",render:function(){return i.a.createElement(rt,null)}}),i.a.createElement(se.b,{path:"*",render:function(){return i.a.createElement("div",null,"404 component not found",i.a.createElement(Ge.a,{type:"primary",color:"blue",danger:!0},"Ok"))}}))))),i.a.createElement($e,{style:{textAlign:"center"}},"Made by Jack \xa92020"))):i.a.createElement(ie.a,null)}}]),n}(i.a.Component),ot={initialiazeApp:function(){return function(e){e(ye()).then((function(){e(Ce())}))}}},ut=Object(me.d)(se.h,Object(b.b)((function(e){return{initialiazed:e.app.isInitialiazed}}),ot))(ct);var it=function(){return i.a.createElement(de.a,null,i.a.createElement(b.a,{store:Ne},i.a.createElement(ut,null)))};o.a.render(i.a.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},59:function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return m})),n.d(t,"i",(function(){return f}));var a=function(e){return e.usersPage.users},r=function(e){return e.usersPage.totalUsersCount},c=function(e){return e.usersPage.pageSize},o=function(e){return e.usersPage.currentPage},u=function(e){return e.usersPage.isLoading},i=function(e){return e.usersPage.isFollowingInProgress},l=function(e){return e.usersPage.filter},s=function(e){return e.profilePage.status},m=function(e){return e.profilePage.profile},f=function(e){return e.auth.userId}},62:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(!t||t.length>e)return"Should be less than ".concat(e)}},c=function(e){return function(t){if(!t||t.length<e)return"Should be bigger than ".concat(e)}}},68:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(142),o=n.n(c);t.a=function(){return r.a.createElement("div",{className:o.a.container},r.a.createElement("span",{className:o.a.loader},"Load\xa0ng"))}},69:function(e,t,n){e.exports={formControl:"FormControls_formControl__3gwRx",error:"FormControls_error__3jq7r",formSummaryError:"FormControls_formSummaryError__2BoeY"}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(30),r={getUsers:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.a.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&fiend=".concat(r))).then((function(e){return e.data}))},unfollowUser:function(e){return a.a.delete("follow/".concat(e)).then((function(e){return e.data}))},followUser:function(e){return a.a.post("follow/".concat(e)).then((function(e){return e.data}))},getUserData:function(){return a.a.get("auth/me").then((function(e){return e.data}))}}},88:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p}));var a=n(12),r=n.n(a),c=n(28),o=n(53),u=n(8),i=n(82),l={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isLoading:!1,isFollowingInProgress:[],filter:{term:"",friend:null}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/TOGGLE_FOLLOWING":return Object(u.a)(Object(u.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(u.a)(Object(u.a)({},e),{},{isFollow:!e.isFollow}):e}))});case"users/SET_USERS":return Object(u.a)(Object(u.a)({},e),{},{users:Object(o.a)(t.users)});case"users/FOLLOWING_IN_PROGRESS":return Object(u.a)(Object(u.a)({},e),{},{isFollowingInProgress:t.following?[].concat(Object(o.a)(e.isFollowingInProgress),[t.userId]):e.isFollowingInProgress.filter((function(e){return e!==t.userId}))});case"users/SET_CURRENT_PAGE":return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case"users/SET_TOTAL_COUNT":return Object(u.a)(Object(u.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"users/SET_TERM":return Object(u.a)(Object(u.a)({},e),{},{filter:t.payload});case"users/TOGGLE_LOADING":return Object(u.a)(Object(u.a)({},e),{},{isLoading:t.isFetching});default:return Object(u.a)({},e)}},m={toggleFollowing:function(e){return{type:"users/TOGGLE_FOLLOWING",userId:e}},setUsers:function(e){return{type:"users/SET_USERS",users:e}},setCurrentPage:function(e){return{type:"users/SET_CURRENT_PAGE",currentPage:e}},setFilter:function(e){return{type:"users/SET_TERM",payload:e}},setTotalUsersCount:function(e){return{type:"users/SET_TOTAL_COUNT",totalUsersCount:e}},toggleLoading:function(e){return{type:"users/TOGGLE_LOADING",isFetching:e}},followingInProgress:function(e,t){return{type:"users/FOLLOWING_IN_PROGRESS",following:e,userId:t}}},f=function(e,t,n){return function(){var a=Object(c.a)(r.a.mark((function a(c){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(m.toggleLoading(!0)),c(m.setFilter(n)),a.next=4,i.a.getUsers(e,t,n.term,n.friend);case 4:o=a.sent,c(m.setUsers(o.items)),c(m.setTotalUsersCount(o.totalCount)),c(m.setCurrentPage(e)),c(m.toggleLoading(!1));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(m.followingInProgress(!0,e)),t.next=3,i.a.followUser(e);case 3:0===t.sent.resultCode&&n(m.toggleFollowing(e)),n(m.followingInProgress(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(m.followingInProgress(!0,e)),t.next=3,i.a.unfollowUser(e);case 3:0===t.sent.resultCode&&n(m.toggleFollowing(e)),n(m.followingInProgress(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}},[[245,1,2]]]);
//# sourceMappingURL=main.2ab04582.chunk.js.map